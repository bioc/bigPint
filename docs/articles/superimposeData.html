<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Alternatives to data metrics object • bigPint</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Alternatives to data metrics object">
<meta property="og:description" content="">
<meta property="og:image" content="http://lindsayrutter.github.io/bigPint/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bigPint</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-book"></span>
     
    Get Started
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/plotIntro.html">Introduction to bigPint plots</a>
    </li>
    <li>
      <a href="../articles/installation.html">Installation</a>
    </li>
    <li>
      <a href="../articles/data.html">Data object</a>
    </li>
    <li>
      <a href="../articles/dataMetrics.html">Data metrics object</a>
    </li>
    <li>
      <a href="../articles/createDataMetrics.html">Creating data metrics object</a>
    </li>
    <li>
      <a href="../articles/superimposeData.html">Alternatives to data metrics object</a>
    </li>
    <li>
      <a href="../articles/static.html">Producing static plots</a>
    </li>
    <li>
      <a href="../articles/interactive.html">Producing interactive plots</a>
    </li>
    <li>
      <a href="../articles/clusters.html">Hierarchical clustering</a>
    </li>
    <li>
      <a href="../articles/pipeline.html">Recommended RNA-seq pipeline</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-pencil-square-o"></span>
     
    manuscripts
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/manuscripts.html">Manuscripts</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    news
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/lindsayrutter/bigPint/">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Alternatives to data metrics object</h1>
                        <h4 class="author">Lindsay Rutter</h4>
                        
            <h4 class="date">2019-09-07</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/lindsayrutter/bigPint/blob/master/vignettes/superimposeData.Rmd"><code>vignettes/superimposeData.Rmd</code></a></small>
      <div class="hidden name"><code>superimposeData.Rmd</code></div>

    </div>

    
    
<div id="options-for-superimposing-data-subsets" class="section level2">
<h2 class="hasAnchor">
<a href="#options-for-superimposing-data-subsets" class="anchor"></a>Options for superimposing data subsets</h2>
<p>The <code>bigPint</code> package allows users to superimpose a subset of the dataset onto the full dataset. If the <code>bigPint</code> package is being applied to RNA-seq data, then this subset of genes is often differentially expressed genes (DEGs). Except for the <code><a href="../reference/plotSMApp.html">plotSMApp()</a></code> function, all functions offer users three options for superimposing data subsets in the <code>bigPint</code> package. We briefly discuss these options below.</p>
<hr>
</div>
<div id="option-1-data-metrics-object" class="section level2">
<h2 class="hasAnchor">
<a href="#option-1-data-metrics-object" class="anchor"></a>Option 1: Data metrics object</h2>
<p>The <code>dataMetrics</code> input is NULL by default in <code>bigPint</code> package functions. However, a user can create a <code>dataMetrics</code> object as is explained in the article <a href="https://lindsayrutter.github.io/bigPint/articles/createDataMetrics.html">Creating data metrics object</a>. If a user does input a <code>dataMetrics</code> object, then two other input parameters will be used, <code>threshVar</code> and <code>threshVal</code>. These two inputs will be used to create the data subset from the <code>dataMetrics</code> input. Below are their definitions in the help files of <code>bigPint</code>package functions:</p>
<ul>
<li>threshVar <code>CHARACTER STRING</code> Name of column in dataMetrics object used to threshold significance; default “FDR”</li>
<li>threshVal <code>INTEGER</code> Maximum value to threshold significance from threshVar object; default 0.05</li>
</ul>
<p>Below is an example of superimposing genes that have an FDR value less than 1e-10 <span class="citation">(Lauter and Graham 2016)</span>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(bigPint)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(<span class="st">"soybean_ir_sub"</span>)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(<span class="st">"soybean_ir_sub_metrics"</span>)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4">soybean_ir_sub[,<span class="op">-</span><span class="dv">1</span>] &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Log">log</a></span>(soybean_ir_sub[,<span class="op">-</span><span class="dv">1</span>] <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb1-5" data-line-number="5">ret &lt;-<span class="st"> </span><span class="kw"><a href="../reference/plotSM.html">plotSM</a></span>(<span class="dt">data=</span>soybean_ir_sub, <span class="dt">dataMetrics=</span>soybean_ir_sub_metrics,</a>
<a class="sourceLine" id="cb1-6" data-line-number="6">  <span class="dt">threshVar =</span> <span class="st">"FDR"</span>, <span class="dt">threshVal =</span> <span class="fl">1e-10</span>, <span class="dt">pointSize =</span> <span class="fl">0.1</span>, <span class="dt">saveFile =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb1-7" data-line-number="7">ret[[<span class="st">"N_P"</span>]]</a></code></pre></div>
<pre><code>## Warning: Using `as.character()` on a quosure is deprecated as of rlang 0.3.0.
## Please use `as_label()` or `as_name()` instead.
## This warning is displayed once per session.</code></pre>
<p><img src="superimposeData_files/figure-html/unnamed-chunk-1-1.png" width="700.0000032"></p>
<hr>
</div>
<div id="option-2-gene-list-object" class="section level2">
<h2 class="hasAnchor">
<a href="#option-2-gene-list-object" class="anchor"></a>Option 2: Gene List object</h2>
<p>We can alternatively use the <code>geneList</code> input object to superimpose a subset of the data onto the full data frame. The <code>geneList</code> object is NULL by default. However, the user can set it to be equal to the list of the IDs that should be superimposed. For example, we can achieve the same plot above by using the following code.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">sigGenes =<span class="st"> </span>soybean_ir_sub_metrics[[<span class="st">"N_P"</span>]] <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(FDR <span class="op">&lt;</span><span class="st"> </span><span class="fl">1e-10</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(ID)</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">sigGenes =<span class="st"> </span>sigGenes[,<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">ret &lt;-<span class="st"> </span><span class="kw"><a href="../reference/plotSM.html">plotSM</a></span>(<span class="dt">data=</span>soybean_ir_sub, <span class="dt">geneList =</span> sigGenes, <span class="dt">pointSize =</span> <span class="fl">0.1</span>,</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">  <span class="dt">saveFile =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">ret[[<span class="st">"N_P"</span>]]</a></code></pre></div>
<p><img src="superimposeData_files/figure-html/unnamed-chunk-2-1.png" width="700.0000032"></p>
<p>We note that the <code>geneList</code> object is more flexible than the <code>dataMetrics</code> object. This is because the <code>dataMetrics</code> object can only create the subset of data by thresholding one quantitative variable. However, the <code>geneList</code> object can be created in many more ways. For example, below we can examine genes that have an FDR value less than 1e-10 and a log fold change value greater than the absolute value of 6.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">sigGenes =<span class="st"> </span>soybean_ir_sub_metrics[[<span class="st">"N_P"</span>]] <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(FDR <span class="op">&lt;</span><span class="st"> </span><span class="fl">1e-10</span>) <span class="op">%&gt;%</span><span class="st">   </span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/MathFun">abs</a></span>(logFC) <span class="op">&gt;</span><span class="st"> </span><span class="dv">6</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(ID)</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">sigGenes =<span class="st"> </span>sigGenes[,<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">ret &lt;-<span class="st"> </span><span class="kw"><a href="../reference/plotSM.html">plotSM</a></span>(<span class="dt">data=</span>soybean_ir_sub, <span class="dt">geneList =</span> sigGenes, <span class="dt">pointSize =</span> <span class="fl">0.5</span>,</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">  <span class="dt">pointColor =</span> <span class="st">"magenta"</span>, <span class="dt">saveFile =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb4-7" data-line-number="7">ret[[<span class="st">"N_P"</span>]]</a></code></pre></div>
<p><img src="superimposeData_files/figure-html/unnamed-chunk-3-1.png" width="700.0000032"></p>
<p>Because of this, if both <code>dataMetrics</code> and <code>geneList</code> are both not their default NULL value, then <code>geneList</code> will take priority and <code>dataMetrics</code> will be ignored.</p>
<hr>
</div>
<div id="option-3-no-superimposing" class="section level2">
<h2 class="hasAnchor">
<a href="#option-3-no-superimposing" class="anchor"></a>Option 3: No superimposing</h2>
<p>The last possibility is to leave both <code>dataMetrics</code> and <code>geneList</code> as their default NULL value. This will allow a user to examine the distribution of the full dataset without superimposing any subset of data. We end with an example of this technique.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">ret &lt;-<span class="st"> </span><span class="kw"><a href="../reference/plotSM.html">plotSM</a></span>(<span class="dt">data=</span>soybean_ir_sub, <span class="dt">saveFile =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">ret[[<span class="st">"N_P"</span>]]</a></code></pre></div>
<p><img src="superimposeData_files/figure-html/unnamed-chunk-4-1.png" width="700.0000032"></p>
<hr>
</div>
<div id="references" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<div id="refs" class="references">
<div id="ref-soybeanIR">
<p>Lauter, AN Moran, and MA Graham. 2016. “NCBI Sra Bioproject Accession: PRJNA318409.”</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#options-for-superimposing-data-subsets">Options for superimposing data subsets</a></li>
      <li><a href="#option-1-data-metrics-object">Option 1: Data metrics object</a></li>
      <li><a href="#option-2-gene-list-object">Option 2: Gene List object</a></li>
      <li><a href="#option-3-no-superimposing">Option 3: No superimposing</a></li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://github.com/lindsayrutter">Lindsay Rutter</a>, <a href="https://github.com/dicook">Dianne Cook</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'API_KEY',
    indexName: 'INDEX_NAME',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
